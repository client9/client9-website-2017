---
date: "2017-05-08"
lastmod: "2018-03-03T14:16:36.612Z"
tags:
- git
title: Git Undo Last Commit
---
<p>Oops, I did it again. Here&#39;s how to undo your last git commit.</p><p>If you did not <code>git push</code>, then you have a easy choice on how much you want to undo. If you did push, it&#39;s more work but can be done.</p><ul><li><a href="#h.i5z6xr4l7zue">Keep changes, just modify the commit message</a></li><li><a href="#h.lpa3ecbz2obc">Undo commit, but keep changes</a></li><li><a href="#h.scnjuh3v3cl9">Undo the commit, undo the changes</a></li><li><a href="#h.2enm9hnty6p6">Undo a push, and the commit</a></li></ul><h2 id="h.i5z6xr4l7zue">How do I just change the last commit message?</h2><p>If you didn&#39;t push, and just need to change the last commit message, use <code>--amend</code></p><pre class="p-1 bg-light border"><code>git commit --amend -m &#34;new commit message&#34;</code></pre><p>See <a href="http://stackoverflow.com/questions/179123/edit-an-incorrect-commit-message-in-git">Stack Overflow</a>  or <a href="https://help.github.com/articles/changing-a-commit-message">GitHub</a>  for more details.</p><h2 id="h.lpa3ecbz2obc">How do I undo the last commit and but keep the changes locally</h2><p>This is useful when you forgot to add a file or what to make a few more edits. If you did not push, then, this makes it so it never happened and restore everything just as you never typed <code>git commit</code></p><pre class="p-1 bg-light border"><code>git reset HEAD~1</code></pre><h2 id="h.scnjuh3v3cl9">Undo the commit and discard the changes</h2><p>Same as above but also reverts any changes to to file as if you never did the edits at all.</p><pre class="p-1 bg-light border"><code>git reset --hard HEAD~1</code></pre><p>See <a href="https://stackoverflow.com/questions/927358/how-to-undo-the-last-git-commit">Stack Overflow</a> for more details.</p><h2 id="h.2enm9hnty6p6">Undo a push and the commit</h2><p>The cute answer is &#34;keep going and don&#39;t try to revert.&#34; That&#39;s not appropriate in all occasions, so if you need to undo <em>a push and a commit</em>, see this <a href="http://stackoverflow.com/questions/1270514/undoing-a-git-push">Stack Overflow</a> thread.</p>